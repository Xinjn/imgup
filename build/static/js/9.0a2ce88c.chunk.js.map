{"version":3,"sources":["pages/Login.js"],"names":["Wraper","styled","div","Side","Sidebar","StyledLink","NavLink","Title","h1","NowRegister","layout","labelCol","span","wrapperCol","tailLayout","offset","validateUsername","rule","value","test","Promise","reject","length","resolve","Compenent","AuthStore","useStores","history","useHistory","useState","showSide","setShowSide","t","useTranslation","onClick","console","log","className","aria-hidden","xlinkHref","to","name","onFinish","values","setUsername","username","setPassword","password","login","then","push","catch","e","Item","label","rules","required","message","validator","min","max","Password","type","htmlType"],"mappings":"8RASMA,EAASC,IAAOC,IAAV,+OAYNC,EAAOF,IAAOC,IAAV,uJAUJE,EAAUH,IAAOC,IAAV,sRAkBPG,EAAaJ,YAAOK,IAAPL,CAAH,4SAgBVM,EAAQN,IAAOO,GAAV,qGAKLC,EAAcR,IAAOC,IAAV,sHAMXQ,EAAS,CACbC,SAAU,CAAEC,KAAM,GAClBC,WAAY,CAAED,KAAM,KAEhBE,EAAa,CACjBD,WAAY,CAAEE,OAAQ,EAAGH,KAAM,KAE3BI,EAAmB,SAACC,EAAMC,GACxB,MAAI,KAAKC,KAAKD,GAAeE,QAAQC,OAAO,gEACxCH,EAAMI,OAAS,GAAKJ,EAAMI,OAAQ,GAAWF,QAAQC,OAAO,4CACzDD,QAAQG,WAsHRC,UApHG,WAAO,IACdC,EAAaC,cAAbD,UACDE,EAAUC,cAFI,EAGcC,oBAAS,GAHvB,mBAGZC,EAHY,KAGFC,EAHE,KAIZC,EAAMC,cAAND,EAoBR,OACI,eAAChC,EAAD,WAEI,cAACG,EAAD,CAAM+B,QAPC,WACXC,QAAQC,IAAIN,GACZC,GAAaD,IAKT,SACI,qBAAKO,UAAU,OAAOC,cAAY,OAAlC,SACI,qBAAKC,UAAU,yBAInBT,EAEI,eAAC1B,EAAD,WACI,eAACC,EAAD,CAAYmC,GAAG,IAAf,UACI,qBAAKH,UAAU,OAAOC,cAAY,OAAlC,SACI,qBAAKC,UAAU,kBAEnB,+BAAOP,EAAE,qBAEb,eAAC3B,EAAD,CAAYmC,GAAG,WAAf,UACI,qBAAKH,UAAU,OAAOC,cAAY,OAAlC,SACI,qBAAKC,UAAU,oBAEnB,+BAAOP,EAAE,qBAEb,eAAC3B,EAAD,CAAYmC,GAAG,SAAf,UACI,qBAAKH,UAAU,OAAOC,cAAY,OAAlC,SACI,qBAAKC,UAAU,oBAEnB,+BAAOP,EAAE,qBAEb,eAAC3B,EAAD,CAAYmC,GAAG,SAAf,UACI,qBAAKH,UAAU,OAAOC,cAAY,OAAlC,SACI,qBAAKC,UAAU,oBAEnB,+BAAOP,EAAE,qBAEb,eAAC3B,EAAD,CAAYmC,GAAG,YAAf,UACI,qBAAKH,UAAU,OAAOC,cAAY,OAAlC,SACI,qBAAKC,UAAU,mBAEnB,+BAAOP,EAAE,wBAIjB,KAGR,cAACzB,EAAD,UAAQyB,EAAE,sDACV,eAACvB,EAAD,WACKuB,EAAE,kCADP,IACiB,cAAC,IAAD,CAASQ,GAAG,YAAZ,SAAyBR,EAAE,uCAE5C,eAAC,IAAD,2BACItB,GADJ,IAEI+B,KAAK,QACLC,SAxEK,SAAAC,GACbR,QAAQC,IAAI,WAAYO,GACxBlB,EAAUmB,YAAYD,EAAOE,UAC7BpB,EAAUqB,YAAYH,EAAOI,UAC7BtB,EAAUuB,QACLC,MAAK,WACFd,QAAQC,IAAI,2DACZT,EAAQuB,KAAK,QACdC,OAAM,SAACC,GACNjB,QAAQC,IAAIgB,GACZjB,QAAQC,IAAI,oEA2DhB,UAKI,cAAC,IAAKiB,KAAN,CACIC,MAAOtB,EAAE,sBACTS,KAAK,WACLc,MAAO,CAAC,CAAEC,UAAU,EAAMC,QAAS,kCAAU,CAACC,UAAU1C,IAH5D,SAKI,cAAC,IAAD,MAGJ,cAAC,IAAKqC,KAAN,CACIC,MAAOtB,EAAE,gBACTS,KAAK,WACLc,MAAO,CACH,CAAEC,UAAU,EAAMC,QAAS,4BAC3B,CACIE,IAAK,EACLF,QAAQ,mCAEZ,CACIG,IAAK,GACLH,QAAQ,qCAXpB,SAgBI,cAAC,IAAMI,SAAP,MAGJ,cAAC,IAAKR,KAAN,2BAAevC,GAAf,IAA2BuB,UAAU,SAArC,SACI,cAAC,IAAD,CAAQyB,KAAK,UAAUC,SAAS,SAAhC,SACK/B,EAAE","file":"static/js/9.0a2ce88c.chunk.js","sourcesContent":["import  React, { useState } from 'react';\nimport { Form, Input, Button, Checkbox } from 'antd';\nimport  styled  from 'styled-components';\nimport { useStores } from './../stores/index';\nimport {useHistory} from 'react-router-dom'\nimport { NavLink } from 'react-router-dom'\nimport \"../assets/Login.css\"\nimport {useTranslation} from 'react-i18next'\n\nconst Wraper = styled.div`\n\n    width:350px;\n    box-shadow: 2px 2px 4px 0 rgba(0,0,0,.2);\n    border-radius:4px;\n    padding:20px;\n    margin:30px auto;\n    background-color:#fff;\n    font-family: Roboto;\n    font-size: 12px;\n\n`\nconst Side = styled.div`\n// border:1px solid red;\nposition: fixed;\nleft:0;\ntop:0;\n// background:#fff;\nwidth:25px;\nheight:25px;\nmargin:10px;\n`\nconst Sidebar = styled.div`\nposition: fixed;\nmargin:10px;\nleft:0;\ntop:35px;\nwidth:180px;\nlist-style:none;\nbackground:#fff;\nborder-radius:3px;\npadding:0;\n.icon {\n  width:15px;\n  height: 15px;\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\n`\nconst StyledLink = styled(NavLink)`\n    font-size:15px;\n    // border:1px solid red;\n    display:block;\n    padding:10px;\n    color:#333;\n    span{\n            \n            margin-left:5px;\n    }\n    &:hover{\n        background:#c4c4c4;\n        border-radius:3px;\n            color:#fff;\n    }\n`\nconst Title = styled.h1`\n// border:1px solid red;\n    text-align:center;\n   margin:5px 0 0 0 ;\n`\nconst NowRegister = styled.div`\n    text-align:center;\n    margin:15px;\n    font-size: 14px;\n// border:1px solid red;\n`\nconst layout = {\n  labelCol: { span: 6 },\n  wrapperCol: { span: 18 },\n};\nconst tailLayout = {\n  wrapperCol: { offset: 6, span: 18 },\n};\nconst validateUsername = (rule, value) => {\n        if (/\\W/.test(value)) return Promise.reject('只能时字母数字下划线')\n        if (value.length < 4 || value.length >10) return Promise.reject('长度为4~10个字符')\n        return Promise.resolve()\n    }\nconst Compenent = () => {\n    const {AuthStore} = useStores()\n    const history = useHistory()\n    const [ showSide, setShowSide ] = useState(false)\n    const { t } = useTranslation()\n    \n    const onFinish = values => {\n        console.log('Success:', values);\n        AuthStore.setUsername(values.username)\n        AuthStore.setPassword(values.password)\n        AuthStore.login()\n            .then(() => {\n                console.log('登录成功,跳转到首页');\n                history.push('/')\n            }).catch((e) => {\n                console.log(e);\n                console.log('登录失败，什么也不做');\n            })\n    }\n\n    const toggle = () => {\n        console.log(showSide);\n        setShowSide(!showSide)\n    }\n    return (\n        <Wraper>\n\n            <Side onClick={toggle}>\n                <svg className=\"icon\" aria-hidden=\"true\">\n                    <use xlinkHref=\"#icon-cebianlan2\"></use>\n                </svg>\n            </Side>\n            {\n                showSide\n                    ?\n                    <Sidebar >\n                        <StyledLink to=\"/\">\n                            <svg className=\"icon\" aria-hidden=\"true\">\n                                <use xlinkHref=\"#icon-index\"></use>\n                            </svg>\n                            <span>{t('首页')}</span>\n                        </StyledLink>\n                        <StyledLink to=\"/history\">\n                            <svg className=\"icon\" aria-hidden=\"true\">\n                                <use xlinkHref=\"#icon-upload2\"></use>\n                            </svg>\n                            <span>{t('历史')}</span>\n                        </StyledLink>\n                        <StyledLink to=\"/about\">\n                            <svg className=\"icon\" aria-hidden=\"true\">\n                                <use xlinkHref=\"#icon-guanyu4\"></use>\n                            </svg>\n                            <span>{t('关于')}</span>\n                        </StyledLink>\n                        <StyledLink to=\"/login\">\n                            <svg className=\"icon\" aria-hidden=\"true\">\n                                <use xlinkHref=\"#icon-denglu2\"></use>\n                            </svg>\n                            <span>{t('登录')}</span>\n                        </StyledLink>\n                        <StyledLink to=\"/register\">\n                            <svg className=\"icon\" aria-hidden=\"true\">\n                                <use xlinkHref=\"#icon-zhuce1\"></use>\n                            </svg>\n                            <span>{t('注册')}</span>\n                        </StyledLink>\n                    </Sidebar>\n                    :\n                    null\n            }\n            \n            <Title>{t('使用你的账户登录')}</Title>\n            <NowRegister>\n                {t('没有账号？')} <NavLink to=\"/register\">{t('马上注册！')}</NavLink>\n            </NowRegister>\n            <Form\n            {...layout}\n                name=\"basic\"\n                onFinish={onFinish}\n            >\n                <Form.Item\n                    label={t('用户名')}\n                    name=\"username\"\n                    rules={[{ required: true, message: '输入用户名' },{validator:validateUsername}]}\n                >\n                    <Input />\n                </Form.Item>\n\n                <Form.Item\n                    label={t('密码')}\n                    name=\"password\"\n                    rules={[\n                        { required: true, message: '输入密码' },\n                        {\n                            min: 4,\n                            message:'最少4个字符'\n                        },\n                        {\n                            max: 10,\n                            message:'最大10个字符'\n                        }\n\n                    ]}\n                >\n                    <Input.Password />\n                </Form.Item>\n                     \n                <Form.Item {...tailLayout} className=\"button\">\n                    <Button type=\"primary\" htmlType=\"submit\" >\n                        {t('提交')}\n                    </Button> \n                </Form.Item>\n            </Form>\n        </Wraper>\n  );\n};\nexport default Compenent"],"sourceRoot":""}