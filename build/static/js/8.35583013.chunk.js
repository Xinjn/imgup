(this["webpackJsonpreact-epic-teach"]=this["webpackJsonpreact-epic-teach"]||[]).push([[8],{182:function(e,n,t){},268:function(e,n,t){"use strict";t.r(n);var r,c,i,a,l,s,j,o,d,b,h,u,x,g,O=t(0),p=t(82),f=t(144),v=t(143),m=t(22),w=t(80),y=t(18),k=t(263),S=t(122),F=t(103),C=t(168),U=t(273),H=t(23),N=t(12),$=t(272),M=t(104),z=(t(182),t(124)),J=t(4),L=k.a.Dragger,P=H.a.div(r||(r=Object(m.a)(["\n"]))),W=H.a.div(c||(c=Object(m.a)(["\n        // border:1px solid red;\n        position: fixed;\n        top:0;\n        left:0;\n        width:100vw;\n"]))),B=H.a.div(i||(i=Object(m.a)(["\n    text-align:center;\n    margin:30px auto;\n"]))),G=H.a.h1(a||(a=Object(m.a)(["\n    margin:0;\n    color:#fff;\n    text-align:center;\n    font-size:3em;\n    ling-height:120%;\n    font-weight:600;\n    text-shadow:1px 1px 2px rgba(0,0,0,.25);\n"]))),R=H.a.h3(l||(l=Object(m.a)(["\n    color:#fff;\n    font-family:Helvetica,Arial,sans-serif;\n    font-size:22px;\n    font-weight:100;\n    text-shadow:1px 1px 2px rgba(0,0,0,0.25);\n    text-align:center;\n"]))),_=(Object(H.a)(S.a)(s||(s=Object(m.a)(["\n    margin-left:20px;\n"]))),H.a.div(j||(j=Object(m.a)(["\n    top:0px;\n    position: fixed;\n    left:0;\n    right:0;\n   \n"])))),A=H.a.div(o||(o=Object(m.a)(["\n    .button{\n        display:flex;\n        justify-content:flex-end;\n    }\n    .ant-upload.ant-upload-drag{\n        border:none;\n    }\n   \n\n"]))),D=H.a.div(d||(d=Object(m.a)(["\n    background: #fff;\n    padding:0;\n    text-align:center;\n"]))),I=H.a.h2(b||(b=Object(m.a)(["\n    text-align:center;\n"]))),T=H.a.img(h||(h=Object(m.a)(["\n    max-width:300px;\n"]))),V=H.a.div(u||(u=Object(m.a)(["\n    display:flex;\n    // border:1px solid red;\n    justify-content:space-between;\n    padding:0 10px;\n"]))),q=H.a.div(x||(x=Object(m.a)(["\n\ndisplay:flex;\njustify-content:center;\n\n.icon{\n    margin:4px 2px 0 0;\n\n  width:15px;\n  height: 15px;\n\n  vertical-align: -0.15em;\n  fill: currentColor;\n  overflow: hidden;\n}\nspan{\n\n}\n"]))),E=Object(p.a)((function(){var e=Object(w.a)(),n=e.ImageStore,t=e.UserStore,r=Object(N.f)(),c=Object(O.useRef)(),i=Object(O.useRef)(),a=Object(O.useState)(!1),l=Object(v.a)(a,2),s=l[0],j=l[1],o=Object(z.a)().t,d=Object(y.d)((function(){return{width:null,setWidth:function(e){d.width=e},get widthStr(){return d.width?"/w/".concat(d.width):""},height:null,setHeight:function(e){d.height=e},get heightStr(){return d.height?"/h/".concat(d.height):""},get fullStr(){return n.serverFile.attributes.url.attributes.url+"?imageView2/0"+d.widthStr+d.heightStr}}})),b=function(e){console.log(e),e.stopPropagation(),j(!s)},h={showUploadList:!1,beforeUpload:function(e){return n.setFile(e),n.setFilename(e.name),null===t.currentUser?(F.b.warning("\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20"),r.push("/login"),!1):(window.file=e,/(svg$)|(png$)|(jpg$)|(jpeg$)|(git$)/gi.test(e.type)?e.size>1048576?(F.b.error("\u56fe\u7247\u6700\u59271M"),!1):(n.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(F.b.error("\u53ea\u80fd\u4e0a\u4f20png/svg/jpg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1))}};return Object(J.jsxs)(P,{children:[Object(J.jsx)(W,{children:Object(J.jsx)(M.a,{})}),Object(J.jsxs)(B,{children:[Object(J.jsx)(G,{children:o("\u4e0a\u4f20\u4e0e\u5206\u4eab\u60a8\u7684\u7167\u7247")}),Object(J.jsxs)(R,{children:[o("imgup\u56fe\u5e8a-\u9ad8\u901f\u7a33\u5b9a\u7684\u56fe\u7247\u4e0a\u4f20\u548c\u5916\u94fe\u670d\u52a1"),Object(J.jsx)("br",{}),o("\u4efb\u610f\u62d6\u653e\u56fe\u7247\u5230\u8fd9\u91cc\uff0c\u5373\u53ef\u4e0a\u4f20\u60a8\u7684\u56fe\u7247\uff0c\u6700\u592720MB\u56fe\u7247\u5927\u5c0f\u3002"),Object(J.jsx)("br",{}),o("\u76f4\u63a5\u7684\u6e90\u56fe\u7247\u94fe\u63a5\uff0cHTML\u7f29\u7565\u56fe\u663e\u793a\uff0c\u7981\u6b62\u4e0a\u4f20\u4efb\u4f55\u8fdd\u6cd5\u56fe\u7247")]}),Object(J.jsx)(C.a,{tip:"\u4e0a\u4f20\u4e2d",spinning:n.isUpLoading,children:Object(J.jsx)(k.a,Object(f.a)(Object(f.a)({},h),{},{children:Object(J.jsxs)(S.a,{icon:Object(J.jsx)($.a,{}),onClick:b,children:[" ",o("\u5f00\u59cb\u4e0a\u4f20")]})}))})]}),Object(J.jsxs)(_,{children:[Object(J.jsx)(A,{style:{display:s?"block":"none"},children:Object(J.jsxs)(L,Object(f.a)(Object(f.a)({},h),{},{children:[Object(J.jsxs)(V,{children:[Object(J.jsx)("span",{children:"JPG PNG 10MB"}),Object(J.jsxs)(q,{type:"primary",onClick:b,className:"button",children:[Object(J.jsx)("svg",{className:"icon","aria-hidden":"true",children:Object(J.jsx)("use",{xlinkHref:"#icon-guanbi1"})}),Object(J.jsx)("span",{children:o("\u5173\u95ed")})]})]}),Object(J.jsx)("p",{className:"ant-upload-drag-icon",children:Object(J.jsx)(U.a,{})}),Object(J.jsx)("p",{className:"ant-upload-text",children:o("\u5355\u51fb\u6216\u62d6\u52a8\u6587\u4ef6\u5230\u6b64\u533a\u57df\u4ee5\u4e0a\u8f7d")}),Object(J.jsx)("p",{className:"ant-upload-hint",children:o("\u652f\u6301\u5355\u6b21\u6216\u6279\u91cf\u4e0a\u4f20\u3002\u4e25\u7981\u4e0a\u4f20\u516c\u53f8\u8d44\u6599\u6216\u5176\u4ed6\u6ce2\u6bb5\u6587\u4ef6")})]}))}),n.serverFile?Object(J.jsxs)(D,{style:{display:s?"block":"none"},children:[Object(J.jsx)(I,{children:o("\u4e0a\u4f20\u7ed3\u679c")}),Object(J.jsxs)("dl",{children:[Object(J.jsx)("dt",{children:o("\u7ebf\u4e0a\u5730\u5740")}),Object(J.jsx)("dd",{children:Object(J.jsx)("a",{target:"_blank",href:n.serverFile.attributes.url.attributes.url,rel:"noopener noreferrer",children:n.serverFile.attributes.url.attributes.url})}),Object(J.jsx)("dt",{children:o("\u6587\u4ef6\u540d")}),Object(J.jsx)("dd",{children:n.filename}),Object(J.jsx)("dt",{children:o("\u56fe\u7247\u9884\u89c8")}),Object(J.jsx)("dd",{children:Object(J.jsx)(T,{src:n.serverFile.attributes.url.attributes.url})}),Object(J.jsx)("dt",{children:o("\u66f4\u591a\u5c3a\u5bf8")}),Object(J.jsxs)("dd",{children:[Object(J.jsx)("input",{ref:c,onChange:function(){console.log("bindWidthChange"),console.log(c.current.value),d.setWidth(c.current.value)},placeholder:o("\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09")}),Object(J.jsx)("input",{ref:i,onChange:function(){console.log("bindHeightChange"),console.log(i.current.value),d.setHeight(i.current.value)},placeholder:o("\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09")})]}),Object(J.jsx)("dd",{children:Object(J.jsx)("a",{target:"_blank",href:d.fullStr,rel:"noopener noreferrer",children:d.fullStr})})]})]}):null]})]})})),K=H.a.div(g||(g=Object(m.a)(["\n    background:orange;\n    padding:10px;\n    margin:30px 0;\n    color:#fff;\n    border-radius:4px;\n"]))),Q=(Object(p.a)((function(e){var n=e.children,t=Object(w.a)().UserStore;return Object(J.jsx)(J.Fragment,{children:t.currentUser?null:Object(J.jsx)(K,{children:n})})})),Object(p.a)((function(){return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(E,{})})})));n.default=Q}}]);
//# sourceMappingURL=8.35583013.chunk.js.map